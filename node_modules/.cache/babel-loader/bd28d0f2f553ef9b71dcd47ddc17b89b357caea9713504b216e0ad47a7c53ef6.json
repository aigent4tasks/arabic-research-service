{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllBooks,getFreeBooks,getPaidBooks}from'../../services/booksService';import'./BooksSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BooksSection=_ref=>{let{type='all',limit=null}=_ref;const[books,setBooks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{loadBooks();},[type]);const loadBooks=async()=>{setLoading(true);setError('');try{let result;switch(type){case'free':result=await getFreeBooks();break;case'paid':result=await getPaidBooks();break;default:result=await getAllBooks();}if(result.success){let booksData=result.data;if(limit){booksData=booksData.slice(0,limit);}setBooks(booksData);}else{setError(result.error||'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÉÿ™ÿ®');}}catch(err){setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');}setLoading(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"books-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0643\\u062A\\u0628...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"books-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:loadBooks,className:\"retry-btn\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"})]})});}if(books.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"books-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"no-books-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCDA \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0643\\u062A\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"books-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"books-grid\",children:books.map(book=>/*#__PURE__*/_jsxs(\"div\",{className:\"book-card\",children:[book.coverImage&&/*#__PURE__*/_jsx(\"div\",{className:\"book-cover\",children:/*#__PURE__*/_jsx(\"img\",{src:book.coverImage,alt:book.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"book-title\",children:book.title}),book.category&&/*#__PURE__*/_jsx(\"span\",{className:\"book-category\",children:book.category}),/*#__PURE__*/_jsx(\"p\",{className:\"book-description\",children:book.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"book-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"book-price\",children:book.isFree?/*#__PURE__*/_jsx(\"span\",{className:\"free-badge\",children:\"\\u0645\\u062C\\u0627\\u0646\\u064A\"}):/*#__PURE__*/_jsxs(\"span\",{className:\"price-badge\",children:[\"$\",book.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"book-actions\",children:/*#__PURE__*/_jsx(\"a\",{href:book.fileUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"book-btn \".concat(book.isFree?'download-btn':'preview-btn'),children:book.isFree?'üì• ÿ™ÿ≠ŸÖŸäŸÑ':'üëÅÔ∏è ŸÖÿπÿßŸäŸÜÿ©'})})]})]})]},book.id))})});};export default BooksSection;","map":{"version":3,"names":["React","useState","useEffect","getAllBooks","getFreeBooks","getPaidBooks","jsx","_jsx","jsxs","_jsxs","BooksSection","_ref","type","limit","books","setBooks","loading","setLoading","error","setError","loadBooks","result","success","booksData","data","slice","err","className","children","onClick","length","map","book","coverImage","src","alt","title","category","description","isFree","price","href","fileUrl","target","rel","concat","id"],"sources":["/home/ubuntu/arabic-research-service/src/components/books/BooksSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllBooks, getFreeBooks, getPaidBooks } from '../../services/booksService';\nimport './BooksSection.css';\n\nconst BooksSection = ({ type = 'all', limit = null }) => {\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    loadBooks();\n  }, [type]);\n\n  const loadBooks = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      let result;\n      \n      switch (type) {\n        case 'free':\n          result = await getFreeBooks();\n          break;\n        case 'paid':\n          result = await getPaidBooks();\n          break;\n        default:\n          result = await getAllBooks();\n      }\n\n      if (result.success) {\n        let booksData = result.data;\n        if (limit) {\n          booksData = booksData.slice(0, limit);\n        }\n        setBooks(booksData);\n      } else {\n        setError(result.error || 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÉÿ™ÿ®');\n      }\n    } catch (err) {\n      setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n    }\n    \n    setLoading(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"books-section\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner\"></div>\n          <p>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÉÿ™ÿ®...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"books-section\">\n        <div className=\"error-message\">\n          <p>‚ö†Ô∏è {error}</p>\n          <button onClick={loadBooks} className=\"retry-btn\">\n            ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (books.length === 0) {\n    return (\n      <div className=\"books-section\">\n        <div className=\"no-books-message\">\n          <p>üìö ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÉÿ™ÿ® ŸÖÿ™ÿßÿ≠ÿ© ÿ≠ÿßŸÑŸäÿßŸã</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"books-section\">\n      <div className=\"books-grid\">\n        {books.map((book) => (\n          <div key={book.id} className=\"book-card\">\n            {book.coverImage && (\n              <div className=\"book-cover\">\n                <img src={book.coverImage} alt={book.title} />\n              </div>\n            )}\n            \n            <div className=\"book-content\">\n              <h3 className=\"book-title\">{book.title}</h3>\n              \n              {book.category && (\n                <span className=\"book-category\">{book.category}</span>\n              )}\n              \n              <p className=\"book-description\">{book.description}</p>\n              \n              <div className=\"book-footer\">\n                <div className=\"book-price\">\n                  {book.isFree ? (\n                    <span className=\"free-badge\">ŸÖÿ¨ÿßŸÜŸä</span>\n                  ) : (\n                    <span className=\"price-badge\">${book.price}</span>\n                  )}\n                </div>\n                \n                <div className=\"book-actions\">\n                  <a \n                    href={book.fileUrl} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className={`book-btn ${book.isFree ? 'download-btn' : 'preview-btn'}`}\n                  >\n                    {book.isFree ? 'üì• ÿ™ÿ≠ŸÖŸäŸÑ' : 'üëÅÔ∏è ŸÖÿπÿßŸäŸÜÿ©'}\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default BooksSection;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}