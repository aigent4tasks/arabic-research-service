{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllMotivationalArticles}from'../../services/motivationalArticlesService';import'./MotivationalArticlesSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MotivationalArticlesSection=_ref=>{let{limit=null}=_ref;const[articles,setArticles]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{loadArticles();},[]);const loadArticles=async()=>{setLoading(true);setError('');try{const result=await getAllMotivationalArticles();if(result.success){let articlesData=result.data;if(limit){articlesData=articlesData.slice(0,limit);}setArticles(articlesData);}else{setError(result.error||'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÇÿßŸÑÿßÿ™');}}catch(err){setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');}setLoading(false);};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'});};const truncateContent=function(content){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;// Remove HTML tags for preview\nconst textContent=content.replace(/<[^>]*>/g,'');if(textContent.length<=maxLength)return textContent;return textContent.substring(0,maxLength)+'...';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"motivational-articles-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0642\\u0627\\u0644\\u0627\\u062A...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"motivational-articles-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:loadArticles,className:\"retry-btn\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"})]})});}if(articles.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"motivational-articles-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"no-articles-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCA1 \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0642\\u0627\\u0644\\u0627\\u062A \\u062A\\u062D\\u0641\\u064A\\u0632\\u064A\\u0629 \\u0645\\u062A\\u0627\\u062D\\u0629 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"motivational-articles-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"articles-grid\",children:articles.map(article=>/*#__PURE__*/_jsxs(\"article\",{className:\"article-card\",children:[article.image&&/*#__PURE__*/_jsx(\"div\",{className:\"article-image\",children:/*#__PURE__*/_jsx(\"img\",{src:article.image,alt:article.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"article-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"article-title\",children:article.title}),/*#__PURE__*/_jsx(\"div\",{className:\"article-meta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"article-date\",children:formatDate(article.createdAt)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"article-body\",children:/*#__PURE__*/_jsx(\"p\",{className:\"article-excerpt\",children:truncateContent(article.content)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"read-more-btn\",children:\"\\u0642\\u0631\\u0627\\u0621\\u0629 \\u0627\\u0644\\u0645\\u0642\\u0627\\u0644 \\u0643\\u0627\\u0645\\u0644\\u0627\\u064B\"}),article.ctaText&&article.ctaLink&&/*#__PURE__*/_jsx(\"a\",{href:article.ctaLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"cta-btn\",children:article.ctaText})]})]})]},article.id))})});};export default MotivationalArticlesSection;","map":{"version":3,"names":["React","useState","useEffect","getAllMotivationalArticles","jsx","_jsx","jsxs","_jsxs","MotivationalArticlesSection","_ref","limit","articles","setArticles","loading","setLoading","error","setError","loadArticles","result","success","articlesData","data","slice","err","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","truncateContent","content","maxLength","arguments","length","undefined","textContent","replace","substring","className","children","onClick","map","article","image","src","alt","title","createdAt","ctaText","ctaLink","href","target","rel","id"],"sources":["/home/ubuntu/arabic-research-service/src/components/motivational/MotivationalArticlesSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllMotivationalArticles } from '../../services/motivationalArticlesService';\nimport './MotivationalArticlesSection.css';\n\nconst MotivationalArticlesSection = ({ limit = null }) => {\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    loadArticles();\n  }, []);\n\n  const loadArticles = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      const result = await getAllMotivationalArticles();\n\n      if (result.success) {\n        let articlesData = result.data;\n        if (limit) {\n          articlesData = articlesData.slice(0, limit);\n        }\n        setArticles(articlesData);\n      } else {\n        setError(result.error || 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÇÿßŸÑÿßÿ™');\n      }\n    } catch (err) {\n      setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n    }\n    \n    setLoading(false);\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-SA', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const truncateContent = (content, maxLength = 150) => {\n    // Remove HTML tags for preview\n    const textContent = content.replace(/<[^>]*>/g, '');\n    if (textContent.length <= maxLength) return textContent;\n    return textContent.substring(0, maxLength) + '...';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"motivational-articles-section\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner\"></div>\n          <p>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÇÿßŸÑÿßÿ™...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"motivational-articles-section\">\n        <div className=\"error-message\">\n          <p>‚ö†Ô∏è {error}</p>\n          <button onClick={loadArticles} className=\"retry-btn\">\n            ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (articles.length === 0) {\n    return (\n      <div className=\"motivational-articles-section\">\n        <div className=\"no-articles-message\">\n          <p>üí° ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÇÿßŸÑÿßÿ™ ÿ™ÿ≠ŸÅŸäÿ≤Ÿäÿ© ŸÖÿ™ÿßÿ≠ÿ© ÿ≠ÿßŸÑŸäÿßŸã</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"motivational-articles-section\">\n      <div className=\"articles-grid\">\n        {articles.map((article) => (\n          <article key={article.id} className=\"article-card\">\n            {article.image && (\n              <div className=\"article-image\">\n                <img src={article.image} alt={article.title} />\n              </div>\n            )}\n            \n            <div className=\"article-content\">\n              <div className=\"article-header\">\n                <h3 className=\"article-title\">{article.title}</h3>\n                <div className=\"article-meta\">\n                  <span className=\"article-date\">{formatDate(article.createdAt)}</span>\n                </div>\n              </div>\n              \n              <div className=\"article-body\">\n                <p className=\"article-excerpt\">\n                  {truncateContent(article.content)}\n                </p>\n              </div>\n              \n              <div className=\"article-footer\">\n                <button className=\"read-more-btn\">\n                  ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖŸÇÿßŸÑ ŸÉÿßŸÖŸÑÿßŸã\n                </button>\n                \n                {article.ctaText && article.ctaLink && (\n                  <a \n                    href={article.ctaLink} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"cta-btn\"\n                  >\n                    {article.ctaText}\n                  </a>\n                )}\n              </div>\n            </div>\n          </article>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default MotivationalArticlesSection;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}