{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllBlogPosts,getBlogPostsByTag}from'../../services/blogPostsService';import'./BlogPostsSection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BlogPostsSection=_ref=>{let{tag=null,limit=null}=_ref;const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{loadPosts();},[tag]);const loadPosts=async()=>{setLoading(true);setError('');try{let result;if(tag){result=await getBlogPostsByTag(tag);}else{result=await getAllBlogPosts();}if(result.success){let postsData=result.data;if(limit){postsData=postsData.slice(0,limit);}setPosts(postsData);}else{setError(result.error||'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿØŸàŸäŸÜÿßÿ™');}}catch(err){setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');}setLoading(false);};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'});};const truncateContent=function(content){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200;// Remove HTML tags for preview\nconst textContent=content.replace(/<[^>]*>/g,'');if(textContent.length<=maxLength)return textContent;return textContent.substring(0,maxLength)+'...';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"blog-posts-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u062F\\u0648\\u064A\\u0646\\u0627\\u062A...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"blog-posts-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:loadPosts,className:\"retry-btn\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"})]})});}if(posts.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"blog-posts-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"no-posts-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCDD \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u062F\\u0648\\u064A\\u0646\\u0627\\u062A \\u0645\\u062A\\u0627\\u062D\\u0629 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"blog-posts-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"posts-grid\",children:posts.map(post=>/*#__PURE__*/_jsxs(\"article\",{className:\"post-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"post-title\",children:post.title}),/*#__PURE__*/_jsx(\"div\",{className:\"post-meta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"post-date\",children:formatDate(post.createdAt)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",children:/*#__PURE__*/_jsx(\"p\",{className:\"post-excerpt\",children:truncateContent(post.content)})}),post.tags&&post.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"post-tags\",children:post.tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"tag\",children:[\"#\",tag]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"post-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"read-more-btn\",children:\"\\u0642\\u0631\\u0627\\u0621\\u0629 \\u0627\\u0644\\u0645\\u0632\\u064A\\u062F\"})})]},post.id))})});};export default BlogPostsSection;","map":{"version":3,"names":["React","useState","useEffect","getAllBlogPosts","getBlogPostsByTag","jsx","_jsx","jsxs","_jsxs","BlogPostsSection","_ref","tag","limit","posts","setPosts","loading","setLoading","error","setError","loadPosts","result","success","postsData","data","slice","err","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","truncateContent","content","maxLength","arguments","length","undefined","textContent","replace","substring","className","children","onClick","map","post","title","createdAt","tags","index","id"],"sources":["/home/ubuntu/arabic-research-service/src/components/blog/BlogPostsSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAllBlogPosts, getBlogPostsByTag } from '../../services/blogPostsService';\nimport './BlogPostsSection.css';\n\nconst BlogPostsSection = ({ tag = null, limit = null }) => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    loadPosts();\n  }, [tag]);\n\n  const loadPosts = async () => {\n    setLoading(true);\n    setError('');\n    \n    try {\n      let result;\n      \n      if (tag) {\n        result = await getBlogPostsByTag(tag);\n      } else {\n        result = await getAllBlogPosts();\n      }\n\n      if (result.success) {\n        let postsData = result.data;\n        if (limit) {\n          postsData = postsData.slice(0, limit);\n        }\n        setPosts(postsData);\n      } else {\n        setError(result.error || 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿØŸàŸäŸÜÿßÿ™');\n      }\n    } catch (err) {\n      setError('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n    }\n    \n    setLoading(false);\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-SA', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const truncateContent = (content, maxLength = 200) => {\n    // Remove HTML tags for preview\n    const textContent = content.replace(/<[^>]*>/g, '');\n    if (textContent.length <= maxLength) return textContent;\n    return textContent.substring(0, maxLength) + '...';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"blog-posts-section\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner\"></div>\n          <p>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿØŸàŸäŸÜÿßÿ™...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"blog-posts-section\">\n        <div className=\"error-message\">\n          <p>‚ö†Ô∏è {error}</p>\n          <button onClick={loadPosts} className=\"retry-btn\">\n            ÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (posts.length === 0) {\n    return (\n      <div className=\"blog-posts-section\">\n        <div className=\"no-posts-message\">\n          <p>üìù ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿØŸàŸäŸÜÿßÿ™ ŸÖÿ™ÿßÿ≠ÿ© ÿ≠ÿßŸÑŸäÿßŸã</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"blog-posts-section\">\n      <div className=\"posts-grid\">\n        {posts.map((post) => (\n          <article key={post.id} className=\"post-card\">\n            <div className=\"post-header\">\n              <h3 className=\"post-title\">{post.title}</h3>\n              <div className=\"post-meta\">\n                <span className=\"post-date\">{formatDate(post.createdAt)}</span>\n              </div>\n            </div>\n            \n            <div className=\"post-content\">\n              <p className=\"post-excerpt\">\n                {truncateContent(post.content)}\n              </p>\n            </div>\n            \n            {post.tags && post.tags.length > 0 && (\n              <div className=\"post-tags\">\n                {post.tags.map((tag, index) => (\n                  <span key={index} className=\"tag\">\n                    #{tag}\n                  </span>\n                ))}\n              </div>\n            )}\n            \n            <div className=\"post-footer\">\n              <button className=\"read-more-btn\">\n                ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖÿ≤ŸäÿØ\n              </button>\n            </div>\n          </article>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default BlogPostsSection;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}